<div class="page-container" [ngClass]="{ 'dark-mode': isDarkMode }">
  <div class="theme-toggle">
    <mat-slide-toggle (change)="toggleDarkMode()" color="primary">Dark Mode</mat-slide-toggle>
  </div>
  <div class="form-section">
    <h2>Create New Ticket</h2>
    <div class="form-card">
      <app-ticket-form (formDataSubmitted)="handleTicketFormSubmit($event)"></app-ticket-form>
    </div>
  </div>

  <div class="form-section">
    <h2>Log Time</h2>
    <div class="form-card">
      <app-form [tickets]="tickets" (formDataSubmitted)="handleFormSubmit($event)"></app-form>
    </div>
  </div>

  <div class="form-section">
    <h2>Time Cards</h2>
    <div class="form-card">
      @if (loading) {
      <div>Loading time cards...</div>
      }
      @if (error) {
      <div class="error-message">{{ error }}</div>
      }
      @if (timeCards.length === 0 && !loading) {
      <div class="no-data-message">No time cards found.</div>
      }
      @for (timeCard of timeCards; track timeCard.timeCardId) {
      <app-time-card [data]="timeCard"></app-time-card>
      }
    </div>
  </div>
</div>